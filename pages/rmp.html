<!DOCTYPE html>
<html>
  <head>
    <title>Rate My Professors Analysis</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../css/theme.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css">
  </head>
  <body>
    
    <!-- Header -->
    <div class="header">
	<h1>Exploratory analysis comparing Indiana University's grade distribution to RateMyProfessors's data</h1>
      <div class="footer">
	<a target="_blank" rel="noopener noreferrer" href="../index.html" target="blank"><i class="fa fa-home fa-lg"></i></a>
      </div>
    </div>
    

    <div class="col space">
      <div class="title">
	<p>While I was sitting in the lecture for one of the classes I'm a teaching assistant for, the students were learning about different biases that can be introduced during sampling. One of the examples given were about how students use the professor reviewing website called <a target="_blank" rel="noopener noreferrer" href="https://www.ratemyprofessors.com/">RateMyProfessors.</a> Students can go here and give an amazon-esque review on any professor. They can leave a rating, some information about their lecture style, how likely they would be to take another course with the professor again, and a paragraph about their lecturer. Some of these reviews are helpful (I've certainly looked at them when choosing my own classes) while others are downright brutal. This is where the idea of bias comes in: students who faired poorly in a class might take to the website and release their semester's worth of frustration about a professor. Others who performed well in a course would probably leave relatively positive reviews. This got me thinking about how true this actually is. Luckily, Indiana University (where I go to school) has all of their <a target="_blank" rel="noopener noreferrer" href="http://gradedistribution.registrar.indiana.edu/">grade distributions publicly available.</a> So all I needed now was the data. Simple right? ... well maybe.
	</p>

	<h2>Getting the data</h2>
	<p>
	  So I first began with getting the data from IU. This is simple enough, all you have to do is navigate to the whatever semester you wanted, and download a CSV with all of the data. I didn't write a script to do this, I just downloaded everything manually because it only took about five minutes. Great! Now the tricky part. RateMyProfessors (I'm going to call it RMP from here) does not have an API, but I found a <a target="_blank" rel="noopener noreferrer" href="https://github.com/remiliacn/RateMyProfessorPy/blob/master/RMPClass.py">GitHub repository from user remiliacn</a> in which he had written a Python script using the requests library to scrape RMP to get information for any professor. I used the majority of this script to get my data, but I made some additions that allowed me to feed a list of names into his function instead of just one name. This meant I had to somehow get the list of all the IU professors listed on their website. A simple script using requests and lxml to fetch data within the HTML helped me do this. Once the script finished, I now had all of my data. But in order to use it, I had to join it together. This was way harder than I anticipated.
	</p>

	<h2>Joining the data</h2>
	<p>
	  The reason this task was so difficult was because the naming conventions for professors across RMP and IU differ from each other. RMP had a simple and consitent pattern of "Last, First." IU made it more difficult though. They allowed abbreviations, prefixes, suffixes, and multiple names. Since names were the only column that the two datasets shared, this introduces a tricky but super interesting problem. How do we get these names to match? 
	</p>

	<p>
	  My methodology was this: split the two name vectors into a last name and a first name, and then find the indices of the lists where the last name matches. The R list is a great data structure for this, especially because there are cases when multiple professors can share a last name (there were a bunch of "Smith" entries, so this is a good example). I created a list of every last name, where each list element is a vector that contains the indices where both names were "Smith". Once I had this information, I then turned to the first name columns. I then took that list and reindexed the first name columns to see which names lined up. Once all of the matches were determined, a final colun was added to the IU data that returned the name that matches the RMP data. This isn't a perfect solution, because it can introduce some errors and drops a lot of professors that don't have a match, but for my purposes it was good enough! Some joins and cleaning later and I was left with just under 47k rows of data (initially had 103k), where every row was a class section taught at IU going back to 2011. Now we can dig into the data.
	</p>

	<h2>Analysis Coming Soon!</h2>
	
      </div>
    </div>

  </body>
</html>
